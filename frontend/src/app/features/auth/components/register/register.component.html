<section class="auth-container">
  <div class="auth-forms">
    <div class="auth-box">
      <h3><i class="fas fa-user-plus"></i> Регистрация</h3>

      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="input-group">
          <label for="email">Почта</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Введите почту"
          />
          <div
            class="error"
            *ngIf="
              registerForm.get('email')?.invalid &&
              registerForm.get('email')?.touched
            "
          >
            <div *ngIf="registerForm.get('email')?.errors?.['required']">
              Поле должно быть заполнено
            </div>
          </div>
        </div>

        <div class="input-group">
          <label for="name">Имя</label>
          <input
            id="name"
            type="text"
            formControlName="name"
            placeholder="Имя"
          />
          <div
            class="error"
            *ngIf="
              registerForm.get('name')?.invalid &&
              registerForm.get('name')?.touched
            "
          >
            <div *ngIf="registerForm.get('name')?.errors?.['required']">
              Поле должно быть заполнено
            </div>
          </div>
        </div>

        <div class="input-group">
          <label for="surname">Фамилия</label>
          <input
            id="surname"
            type="text"
            formControlName="surname"
            placeholder="Фамилию "
          />
          <div
            class="error"
            *ngIf="
              registerForm.get('surname')?.invalid &&
              registerForm.get('surname')?.touched
            "
          >
            <div *ngIf="registerForm.get('surname')?.errors?.['required']">
              Поле должно быть заполнено
            </div>
          </div>
        </div>

        <div class="input-group">
          <label for="middlename">Отчество</label>
          <input
            id="middlename"
            type="text"
            formControlName="middlename"
            placeholder="Отчество"
          />
        </div>

        <div class="input-group">
          <label for="password">Пароль</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="Введите пароль"
          />
          <div
            class="error"
            *ngIf="
              registerForm.get('password')?.invalid &&
              registerForm.get('password')?.touched
            "
          >
            <div *ngIf="registerForm.get('password')?.errors?.['required']">
              Поле должно быть заполнено
            </div>
            <div *ngIf="registerForm.get('password')?.errors?.['minlength']">
              Пароль должен состоять хотя бы из 6 символов
            </div>
            <div
              *ngIf="registerForm.get('password')?.hasError('missingNumber')"
            >
              Пароль должен содержать хотя бы одну цифру
            </div>
            <div
              *ngIf="registerForm.get('password')?.hasError('missingUppercase')"
            >
              Пароль должен содержать хотя бы одну заглавную букву
            </div>
            <div
              *ngIf="registerForm.get('password')?.hasError('missingLowercase')"
            >
              Пароль должен содержать хотя бы одну строчную букву
            </div>
          </div>
        </div>

        <div class="input-group">
          <label for="confirmPassword">Подтвердите пароль</label>
          <input
            id="confirmPassword"
            type="password"
            formControlName="confirmPassword"
            placeholder="Повторите пароль"
          />
          <div class="error" *ngIf="registerForm.hasError('mismatch')">
            Пароли не совпадают
          </div>
        </div>

        <div class="checkbox-group">
          <label>
            <input
              type="checkbox"
              formControlName="acceptTerms"
              (change)="onTermsCheck($event)"
            />
            Я согласен с
            <a href="/docs/Политика_конфиденциальности_на_сайт.pdf" target="_blank"> политикой конфиденциальности и условиями использования</a> 
            
          </label>
          <div
            class="error"
            *ngIf="
              registerForm.get('acceptTerms')?.invalid &&
              registerForm.get('acceptTerms')?.touched
            "
          >
            Необходимо принять условия
          </div>
        </div>

        <button type="submit" class="auth-button">Зарегистрироваться</button>
      </form>

      <p class="error" *ngIf="registerError">{{ registerError }}</p>
      <p class="success" *ngIf="registerSuccess">{{ registerSuccess }}</p>
    </div>
  </div>
</section>
